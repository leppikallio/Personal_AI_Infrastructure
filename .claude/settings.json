{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "env": {
    "DA": "Marvin",
    "ENGINEER_NAME": "Petteri",
    "ENGINEER_EMAIL": "<ask if you need this>",
    "TIME_ZONE": "Europe/Vienna",
    "DA_VOICE_ID": "onwK4e9ZLuTAKqWW03F9",
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "64000",
    "CLAUDE_SEARCH_MODEL": "claude-sonnet-4-5",
    "GEMINI_MODEL": "gemini-2.5-pro",
    "GROK_MODEL": "grok-4-1-fast-reasoning",
    "PERPLEXITY_MODEL": "sonar-reasoning-pro"
  },
  "permissions": {
    "allow": [
      "Bash",
      "Read(*)",
      "Write(*)",
      "Edit(*)",
      "MultiEdit(*)",
      "Glob(*)",
      "Grep(*)",
      "LS(*)",
      "WebFetch(domain:*)",
      "WebSearch",
      "NotebookRead(*)",
      "NotebookEdit(*)",
      "TodoWrite(*)",
      "ExitPlanMode(*)",
      "Task(*)",
      "mcp__*"
    ],
    "deny": [
      "Bash(diskutil partitionDisk)",
      "Bash(diskutil eraseDisk)",
      "Bash(diskutil eraseVolume)",
      "Bash(diskutil reformat)",
      "Bash(diskutil zeroDisk)",
      "Bash(diskutil appleRAID)",
      "Bash(diskutil randomDisk)",
      "Bash(diskutil coreStorage)",
      "Bash(diskutil cs)",
      "Bash(diskutil disableJournal)",
      "Bash(diskutil resetFusion)",
      "Bash(diskutil disableOwnership)",
      "Bash(diskutil apfs deleteContainer)",
      "Bash(diskutil apfs eraseVolume)",
      "Bash(diskutil apfs decryptVolume)",
      "Bash(diskutil apfs changePassphrase)",
      "Bash(diskutil apfs deleteVolume)",
      "Bash(diskutil apfs deleteVolumeGroup)",
      "Bash(diskutil apfs deleteSnapshot)",
      "Bash(rm -rf /)",
      "Bash(rm -rf /*)",
      "Bash(rm -rf ~)",
      "Bash(rm -rf $HOME)",
      "Bash(rm -rf $PAI_HOME)",
      "Bash(rm -rf $PAI_DIR)",
      "Bash(sudo rm -rf /)",
      "Bash(sudo rm -rf /*)",
      "Bash(fork bomb)",
      "Bash(dd if=/dev/zero of=/dev/sda)",
      "Bash(mkfs.ext4 /dev/sda)",
      "Bash( /dev/sda)",
      "Bash(> /dev/sda)"
    ]
  },
  "model": "opus",
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [],
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type PreToolUse"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-tool-output.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type PostToolUse"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-session-summary.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type SessionEnd"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/update-tab-titles.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type UserPromptSubmit"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/load-core-context.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/initialize-session.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type SessionStart"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/stop-hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type Stop"
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/subagent-stop-hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type SubagentStop"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/context-compression-hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/capture-all-events.ts --event-type PreCompact"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "bash ${PAI_DIR}/statusline-command.sh"
  },
  "enabledPlugins": {
    "browser-automation@browser-tools": true,
    "document-skills@anthropic-agent-skills": true
  },
  "alwaysThinkingEnabled": true,
  "_envDocs": {
    "description": "Platform-agnostic environment variables used throughout the Personal AI system",
    "DA": "Digital Assistant name - your AI's identity (e.g., 'Kai', 'PAI', 'Marvin'). Used in statusline, hooks, and agent identification.",
    "ENGINEER_NAME": "Your name for personalized responses",
    "ENGINEER_EMAIL": "Your email for AI communications",
    "PAI_DIR": "Root directory for all PAI configuration - SET IN SHELL (~/.bashrc or ~/.zshrc), NOT HERE. Defaults to ~/.claude if not set.",
    "TIME_ZONE": "Your timezone (e.g., America/Los_Angeles, Europe/Helsinki)",
    "DA_VOICE_ID": "ElevenLabs voice ID for your main assistant",
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "Maximum tokens for Claude responses. Higher values allow longer outputs but cost more.",
    "CLAUDE_SEARCH_MODEL": "Claude model for research (e.g., claude-sonnet-4-5)",
    "GEMINI_MODEL": "Gemini model for research (e.g., gemini-2.5-pro)",
    "GROK_MODEL": "Grok model for research (e.g., grok-4-1-fast-reasoning)",
    "PERPLEXITY_MODEL": "Perplexity model for research (e.g., sonar-reasoning-pro)"
  },
  "max_tokens": 4096,
  "adaptiveResearch": {
    "_comment": "Configuration for the adaptive research system (conduct-research-adaptive)",
    "rateLimits": {
      "_comment": "Per-provider limits. Set to 0 to disable. RPM=requests/min, RPD=requests/day.",
      "anthropic": {
        "requestsPerMinute": 60,
        "tokensPerMinute": 100000,
        "requestsPerDay": 1000
      },
      "google": {
        "requestsPerMinute": 60,
        "tokensPerMinute": 120000,
        "requestsPerDay": 1500
      },
      "perplexity": {
        "requestsPerMinute": 20,
        "requestsPerDay": 500
      },
      "xai": {
        "requestsPerMinute": 60,
        "requestsPerDay": 1000
      },
      "apify": {
        "requestsPerMinute": 30,
        "requestsPerDay": 500,
        "costLimitPerDay": 10
      },
      "brightdata": {
        "requestsPerMinute": 30,
        "requestsPerDay": 500,
        "costLimitPerDay": 10
      }
    },
    "ensemble": {
      "enabled": true,
      "requestsPerMinute": 10,
      "requestsPerDay": 100
    },
    "cache": {
      "enabled": true,
      "ttlHours": 24,
      "maxEntries": 1000,
      "bypassKeywords": ["latest", "current", "today", "now", "recent", "breaking", "2025"]
    }
  }
}
