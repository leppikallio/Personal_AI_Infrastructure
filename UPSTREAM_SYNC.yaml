# PAI Upstream Sync Tracking
# This file helps future sessions quickly understand sync status with upstream

upstream:
  repo: https://github.com/danielmiessler/Personal_AI_Infrastructure.git
  remote_name: upstream

last_sync:
  date: "2025-12-19"
  upstream_commit: b5656d5fac6d8f218f94a9a94791cb728a1639c7
  our_main_commit: # Will be updated after commit
  notes: |
    MEDIUM sync: Selective adoption of 3 upstream commits.
    Adopted:
    - Observability: midnight watcher fix (file-ingest.ts), CSS overflow fix (App.vue)
    - History: Renamed history/ to History/ (Title Case), full UOCS directory structure
    - HistorySystem.md: Upstream documentation for UOCS
    Skipped:
    - assistantName templates (3acc19c) - incompatible with our identity
    - fabric-repo removal (e0c2685) - already done in prior sync

previous_sync:
  date: "2025-12-09"
  upstream_commit: b70e808d17729fe3a3775f9045c04a07cc13b345
  notes: |
    Major sync: 15 of 16 upstream commits adopted.
    Native Fabric patterns, TitleCase alignment, fabric-repo removal.

# Files we deliberately keep different from upstream
# DO NOT overwrite these during sync
customized_files:
  - path: .claude/settings.json
    reason: Contains our personalized config (Marvin, API keys, custom skills)

  - path: .claude/setup.sh
    reason: Points to our fork, has our defaults (Marvin vs Kai)

  - path: README.md
    reason: Partial sync - take version badge but keep our repo URLs

# Files/directories we add that upstream doesn't have
our_additions:
  - .claude/skills/Photorealistic/
  - .claude/commands/photo-*.md
  - .claude/commands/art-*.md
  - .claude/skills/Art/get-art-config.ts
  - package.json
  - tsconfig.json
  - UPSTREAM_SYNC.yaml
  - 35+ custom skills (adaptive research, UOCS logging, etc.)

# Commits deliberately skipped from upstream
skipped_commits:
  - commit: b25c358
    description: "Windows PowerShell support (bootstrap.ps1)"
    reason: "Not using Windows - macOS only"

  - commit: 3acc19c
    description: "assistantName templates ({{{assistantName}}} placeholders)"
    reason: "Our fork has hardcoded identity - templates add complexity for no benefit"

# TitleCase commits (ca9d331, 6f3dc2e) - manually aligned instead of cherry-picked
# Cherry-pick failed due to hybrid state (some dirs already TitleCase, some lowercase)
# Manual rename completed: brightdata→BrightData, ffuf→Ffuf, observability→Observability,
#   prompting→Prompting, research→Research

# What to cherry-pick from upstream (docs/images mostly)
sync_targets:
  always_sync:
    - docs/images/*.png
    - docs/QUICKSTART.md

  selective_sync:
    - path: README.md
      take: version badge, new images
      skip: repo URLs, setup commands

# Quick sync command reference
commands:
  fetch: git fetch upstream
  compare: git log main..upstream/main --oneline
  diff_file: git diff main upstream/main -- <file>
  checkout_file: git checkout upstream/main -- <file>
